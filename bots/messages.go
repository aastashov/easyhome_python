package bots

import (
	"fmt"
	"github.com/aastashov/house_search_assistant/structs"
	"log"
)

const startMessage = `
–≠—Ç–æ –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä. –û—Å–Ω–æ–≤–Ω–æ–µ –µ–≥–æ –ø—Ä–∏–µ–º—É—â–µ—Å—Ç–≤–æ —ç—Ç–æ —Å–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

/start - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
/help - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
/stop - –∏—Å–∫–ª—é—á–∏—Ç –í–∞—Å –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–æ—Ç–∞
/search - –≤–∫–ª—é—á–∏—Ç –ø–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä, –±–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –í–∞–º –Ω–æ–≤—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∫–∞–∫ –Ω–∞–π–¥–µ—Ç
/bookmarks - —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä
`

const helpMessage = `
–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º:

/start - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
/help - —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞
/stop - –∏—Å–∫–ª—é—á–∏—Ç –í–∞—Å –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–æ—Ç–∞
/search - –≤–∫–ª—é—á–∏—Ç –ø–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä, –±–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –í–∞–º –Ω–æ–≤—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∫–∞–∫ –Ω–∞–π–¥–µ—Ç
/bookmarks - —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä

–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ä–∞–±–æ—Ç–µ –∫–Ω–æ–ø–æ–∫:

üîú - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–≤–∞—Ä—Ç–∏—Ä—É –Ω–∞ 1 —á–∞—Å
‚ù§ - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–∑—é—Ä–∞–Ω–Ω–æ–µ
‚ùå - –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç—Ç—É –∫–≤–∞—Ä—Ç–∏—Ä—É
üíî - —É–±—Ä–∞—Ç—å –∏—Ö –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
`

const templateMessage = `
–¶–µ–Ω–∞: %s
–ö–æ–º–Ω–∞—Ç: %s
–ù–æ–º–µ—Ä: %s

%s
`

func DefaultMessage(offer *structs.Offer) string {
	return fmt.Sprintf(templateMessage,
		offer.Price,
		offer.RoomNumber,
		offer.Phone,
		offer.Topic,
	)
}

func (b *Bot) bookmarksMessages(offers []*structs.Offer, chat int64) {
	for _, offer := range offers {
		err := b.SendOffer(offer, &structs.User{Chat: chat}, nil, "")
		if err != nil {
			log.Println("[bookmarksMessages.SendOffer] error:", err)
		}
	}
}
